<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>SQL Storage Adapter - v0.1.0</title><meta name="description" content="Documentation for SQL Storage Adapter"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://github.com/wearetheframers/sql-storage-adapter">GitHub</a><a href="https://www.npmjs.com/package/@framers/sql-storage-adapter">NPM</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">SQL Storage Adapter - v0.1.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>SQL Storage Adapter - v0.1.0</h1></div><div class="tsd-panel tsd-typography"><a id="md:sql-storage-adapter" class="tsd-anchor"></a><h1 class="tsd-anchor-link">SQL Storage Adapter<a href="#md:sql-storage-adapter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/@framers/sql-storage-adapter" target="_blank" class="external"><img src="https://img.shields.io/npm/v/@framers/sql-storage-adapter.svg" alt="npm version"></a>
<a href="https://github.com/wearetheframers/sql-storage-adapter/actions/workflows/ci.yml" target="_blank" class="external"><img src="https://github.com/wearetheframers/sql-storage-adapter/actions/workflows/ci.yml/badge.svg" alt="CI"></a>
<a href="https://codecov.io/gh/wearetheframers/sql-storage-adapter" target="_blank" class="external"><img src="https://codecov.io/gh/wearetheframers/sql-storage-adapter/branch/main/graph/badge.svg" alt="codecov"></a>
<a href="https://www.typescriptlang.org/" target="_blank" class="external"><img src="https://img.shields.io/badge/TypeScript-5.6-blue.svg" alt="TypeScript"></a></p>
<blockquote>
<p>One SQL interface for Node.js, browsers, and mobile apps. Write your database code once, run it anywhere.</p>
</blockquote>
<p><strong><a href="https://wearetheframers.github.io/sql-storage-adapter/" target="_blank" class="external">Documentation</a></strong> | <strong><a href="https://github.com/wearetheframers/sql-storage-adapter" target="_blank" class="external">GitHub</a></strong></p>
<a id="md:why" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Why?<a href="#md:why" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You're building an app that needs to work across different environments:</p>
<ul>
<li>üñ•Ô∏è <strong>Desktop app</strong> (Electron) - needs fast local storage</li>
<li>üåê <strong>Web app</strong> - needs to work in browsers</li>
<li>üì± <strong>Mobile app</strong> (Capacitor/React Native) - needs native performance</li>
<li>‚òÅÔ∏è <strong>Server</strong> - might use PostgreSQL or SQLite</li>
</ul>
<p>Instead of writing separate database code for each platform, use one simple interface:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Automatically picks the best database for your environment</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Same code works everywhere</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Alice&#39;</span><span class="hl-1">]);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users WHERE id = ?&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<a id="md:real-world-use-cases" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Real-World Use Cases<a href="#md:real-world-use-cases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:1-offline-first-apps" class="tsd-anchor"></a><h3 class="tsd-anchor-link">1. Offline-First Apps<a href="#md:1-offline-first-apps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Build apps that work without internet, sync when online.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Works offline with SQLite, syncs to Postgres when online</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">url:</span><span class="hl-1"> </span><span class="hl-2">navigator</span><span class="hl-1">.</span><span class="hl-2">onLine</span><span class="hl-1"> ? </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1"> : </span><span class="hl-5">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">file:</span><span class="hl-1"> </span><span class="hl-3">&#39;./offline.db&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Perfect for:</strong> Field service apps, note-taking apps, inventory management</p>
<a id="md:2-electron-apps" class="tsd-anchor"></a><h3 class="tsd-anchor-link">2. Electron Apps<a href="#md:2-electron-apps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Desktop apps that need embedded databases.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">openDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">app</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;electron&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;path&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Uses better-sqlite3 for fast native performance</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">openDatabase</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">path</span><span class="hl-1">.</span><span class="hl-7">join</span><span class="hl-1">(</span><span class="hl-2">app</span><span class="hl-1">.</span><span class="hl-7">getPath</span><span class="hl-1">(</span><span class="hl-3">&#39;userData&#39;</span><span class="hl-1">), </span><span class="hl-3">&#39;app.db&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Perfect for:</strong> IDEs, chat apps, local-first tools, music players</p>
<a id="md:3-browser-extensions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">3. Browser Extensions<a href="#md:3-browser-extensions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Chrome/Firefox extensions with local storage.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Uses SQL.js (WebAssembly) - no server needed</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({ </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-3">&#39;browser&#39;</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p><strong>Perfect for:</strong> Password managers, bookmarking tools, productivity extensions</p>
<a id="md:4-mobile-apps" class="tsd-anchor"></a><h3 class="tsd-anchor-link">4. Mobile Apps<a href="#md:4-mobile-apps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Capacitor/React Native apps with native SQLite.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Uses Capacitor SQLite on iOS/Android</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">mobile:</span><span class="hl-1"> { </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;myapp&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Perfect for:</strong> Task managers, fitness trackers, expense trackers</p>
<a id="md:5-full-stack-apps" class="tsd-anchor"></a><h3 class="tsd-anchor-link">5. Full-Stack Apps<a href="#md:5-full-stack-apps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Shared database logic between frontend and backend.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Backend uses Postgres, frontend uses SQLite/SQL.js</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">url:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">  </span><span class="hl-4">// Auto-detects</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Perfect for:</strong> SaaS apps, marketplaces, social platforms</p>
<a id="md:6-testing" class="tsd-anchor"></a><h3 class="tsd-anchor-link">6. Testing<a href="#md:6-testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Test your database code without a real database.</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createMemoryDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// In-memory database for fast tests</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createMemoryDatabase</span><span class="hl-1">();  </span><span class="hl-4">// Starts fresh every time</span>
</code><button type="button">Copy</button></pre>

<p><strong>Perfect for:</strong> Unit tests, integration tests, CI/CD pipelines</p>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">@framers/sql-storage-adapter</span><br/><br/><span class="hl-4"># Install adapters you need:</span><br/><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">better-sqlite3</span><span class="hl-1">      </span><span class="hl-4"># Desktop apps (Node.js/Electron)</span><br/><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">pg</span><span class="hl-1">                  </span><span class="hl-4"># PostgreSQL (servers)</span><br/><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">@capacitor-community/sqlite</span><span class="hl-1">  </span><span class="hl-4"># Mobile (Capacitor)</span><br/><span class="hl-4"># sql.js is included, no extra install needed</span>
</code><button type="button">Copy</button></pre>

<a id="md:quick-start" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Quick Start<a href="#md:quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// 1. Create a database (auto-detects best option)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// 2. Create tables</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">exec</span><span class="hl-1">(</span><span class="hl-3">`</span><br/><span class="hl-3">  CREATE TABLE IF NOT EXISTS todos (</span><br/><span class="hl-3">    id INTEGER PRIMARY KEY,</span><br/><span class="hl-3">    task TEXT NOT NULL,</span><br/><span class="hl-3">    done INTEGER DEFAULT 0</span><br/><span class="hl-3">  )</span><br/><span class="hl-3">`</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// 3. Insert data (parameterized for safety)</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO todos (task) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Buy groceries&#39;</span><span class="hl-1">]);</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO todos (task) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Walk the dog&#39;</span><span class="hl-1">]);</span><br/><br/><span class="hl-4">// 4. Query data</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">todos</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM todos WHERE done = 0&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">todos</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// 5. Update data</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;UPDATE todos SET done = 1 WHERE id = ?&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">]);</span><br/><br/><span class="hl-4">// 6. Clean up</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">close</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:how-it-works" class="tsd-anchor"></a><h2 class="tsd-anchor-link">How It Works<a href="#md:how-it-works" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The library tries adapters in order until one works:</p>
<pre><code><span class="hl-1">üñ•Ô∏è </span><span class="hl-2">Node</span><span class="hl-1">.</span><span class="hl-2">js</span><span class="hl-1">:     </span><span class="hl-2">better</span><span class="hl-1">-</span><span class="hl-2">sqlite3</span><span class="hl-1"> ‚Üí </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span><br/><span class="hl-1">üåê </span><span class="hl-9">Browser</span><span class="hl-1">:     </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span><br/><span class="hl-1">üì± </span><span class="hl-9">Mobile</span><span class="hl-1">:      </span><span class="hl-2">capacitor</span><span class="hl-1">-</span><span class="hl-2">sqlite</span><span class="hl-1"> ‚Üí </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span><br/><span class="hl-1">‚òÅÔ∏è </span><span class="hl-9">Server</span><span class="hl-1">:      </span><span class="hl-2">postgres</span><span class="hl-1"> ‚Üí </span><span class="hl-2">better</span><span class="hl-1">-</span><span class="hl-2">sqlite3</span><span class="hl-1"> ‚Üí </span><span class="hl-2">sql</span><span class="hl-1">.</span><span class="hl-2">js</span>
</code><button>Copy</button></pre>

<p>You can control the behavior:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Use specific database type</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({ </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-3">&#39;postgres&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">// Or via environment variable</span><br/><span class="hl-4">// DATABASE_URL=postgresql://... node app.js</span><br/><span class="hl-4">// (Automatically uses PostgreSQL when DATABASE_URL is set)</span>
</code><button type="button">Copy</button></pre>

<a id="md:key-features" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Key Features<a href="#md:key-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:‚úÖ-type-safe" class="tsd-anchor"></a><h3 class="tsd-anchor-link">‚úÖ Type-Safe<a href="#md:‚úÖ-type-safe" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Full TypeScript support with generics:</p>
<pre><code class="typescript"><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-10">User</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">id</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">name</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">email</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">&lt;</span><span class="hl-10">User</span><span class="hl-1">&gt;(</span><span class="hl-3">&#39;SELECT * FROM users WHERE id = ?&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">]);</span><br/><span class="hl-4">// user is typed as User | null</span>
</code><button type="button">Copy</button></pre>

<a id="md:‚úÖ-transactions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">‚úÖ Transactions<a href="#md:‚úÖ-transactions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Automatic commit/rollback:</p>
<pre><code class="typescript"><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">transaction</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-2">tx</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">tx</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Alice&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">tx</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO posts (user_id, title) VALUES (?, ?)&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-3">&#39;Hello&#39;</span><span class="hl-1">]);</span><br/><span class="hl-1">  </span><span class="hl-4">// Commits automatically, or rolls back on error</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:‚úÖ-runtime-introspection" class="tsd-anchor"></a><h3 class="tsd-anchor-link">‚úÖ Runtime Introspection<a href="#md:‚úÖ-runtime-introspection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Know what your database can do:</p>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">context</span><span class="hl-1"> = </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">context</span><span class="hl-1">;</span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">context</span><span class="hl-1">.</span><span class="hl-2">supportsBatch</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">// Use batch operations for speed</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">batch</span><span class="hl-1">([...</span><span class="hl-2">operations</span><span class="hl-1">]);</span><br/><span class="hl-1">} </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">// Fall back to individual inserts</span><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">op</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-2">operations</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-2">op</span><span class="hl-1">.</span><span class="hl-2">statement</span><span class="hl-1">, </span><span class="hl-2">op</span><span class="hl-1">.</span><span class="hl-2">parameters</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Get limitations</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">limits</span><span class="hl-1"> = </span><span class="hl-2">context</span><span class="hl-1">.</span><span class="hl-7">getLimitations</span><span class="hl-1">();</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`Max connections: </span><span class="hl-5">${</span><span class="hl-2">limits</span><span class="hl-11">.</span><span class="hl-2">maxConnections</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`Supported types: </span><span class="hl-5">${</span><span class="hl-2">limits</span><span class="hl-11">.</span><span class="hl-2">supportedDataTypes</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:‚úÖ-event-monitoring" class="tsd-anchor"></a><h3 class="tsd-anchor-link">‚úÖ Event Monitoring<a href="#md:‚úÖ-event-monitoring" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Track queries and performance:</p>
<pre><code class="typescript"><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">events</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-3">&#39;query:error&#39;</span><span class="hl-1">, (</span><span class="hl-2">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&#39;Query failed:&#39;</span><span class="hl-1">, </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">statement</span><span class="hl-1">, </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">events</span><span class="hl-1">.</span><span class="hl-7">on</span><span class="hl-1">(</span><span class="hl-3">&#39;performance:slow-query&#39;</span><span class="hl-1">, (</span><span class="hl-2">event</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">duration</span><span class="hl-1"> &gt; </span><span class="hl-8">1000</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">warn</span><span class="hl-1">(</span><span class="hl-3">`Slow query (</span><span class="hl-5">${</span><span class="hl-2">event</span><span class="hl-11">.</span><span class="hl-2">duration</span><span class="hl-5">}</span><span class="hl-3">ms):`</span><span class="hl-1">, </span><span class="hl-2">event</span><span class="hl-1">.</span><span class="hl-2">statement</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:api-overview" class="tsd-anchor"></a><h2 class="tsd-anchor-link">API Overview<a href="#md:api-overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-4">// Execute SQL (no results)</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">exec</span><span class="hl-1">(</span><span class="hl-3">&#39;CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT)&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Run mutation (INSERT/UPDATE/DELETE)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, [</span><span class="hl-3">&#39;Alice&#39;</span><span class="hl-1">]);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">lastInsertRowid</span><span class="hl-1">);  </span><span class="hl-4">// 1</span><br/><br/><span class="hl-4">// Get single row</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users WHERE id = ?&#39;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">]);</span><br/><br/><span class="hl-4">// Get all rows</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">users</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Transactions</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">transaction</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-2">tx</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">tx</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;...&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">tx</span><span class="hl-1">.</span><span class="hl-7">run</span><span class="hl-1">(</span><span class="hl-3">&#39;...&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Batch operations (if supported)</span><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">capabilities</span><span class="hl-1">.</span><span class="hl-7">has</span><span class="hl-1">(</span><span class="hl-3">&#39;batch&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">batch</span><span class="hl-1">([</span><br/><span class="hl-1">    { </span><span class="hl-2">statement:</span><span class="hl-1"> </span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, </span><span class="hl-2">parameters:</span><span class="hl-1"> [</span><span class="hl-3">&#39;Alice&#39;</span><span class="hl-1">] },</span><br/><span class="hl-1">    { </span><span class="hl-2">statement:</span><span class="hl-1"> </span><span class="hl-3">&#39;INSERT INTO users (name) VALUES (?)&#39;</span><span class="hl-1">, </span><span class="hl-2">parameters:</span><span class="hl-1"> [</span><span class="hl-3">&#39;Bob&#39;</span><span class="hl-1">] }</span><br/><span class="hl-1">  ]);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Prepared statements (if supported)</span><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">capabilities</span><span class="hl-1">.</span><span class="hl-7">has</span><span class="hl-1">(</span><span class="hl-3">&#39;prepared&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">stmt</span><span class="hl-1"> = </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">prepare</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users WHERE id = ?&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">stmt</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">([</span><span class="hl-8">1</span><span class="hl-1">]);</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">stmt</span><span class="hl-1">.</span><span class="hl-7">finalize</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Clean up</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">close</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:adapters-at-a-glance" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Adapters at a Glance<a href="#md:adapters-at-a-glance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Adapter</th>
<th>Best For</th>
<th>Speed</th>
<th>Size</th>
<th>Concurrent</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PostgreSQL</strong></td>
<td>Production servers</td>
<td>‚ö°‚ö°‚ö°</td>
<td>N/A</td>
<td>‚úÖ Yes</td>
</tr>
<tr>
<td><strong>better-sqlite3</strong></td>
<td>Desktop apps</td>
<td>‚ö°‚ö°‚ö°</td>
<td>6 MB</td>
<td>‚ùå No</td>
</tr>
<tr>
<td><strong>SQL.js</strong></td>
<td>Browsers</td>
<td>‚ö°</td>
<td>2.3 MB</td>
<td>‚ùå No</td>
</tr>
<tr>
<td><strong>Capacitor</strong></td>
<td>Mobile apps</td>
<td>‚ö°‚ö°‚ö°</td>
<td>~1 MB</td>
<td>‚ùå No</td>
</tr>
</tbody>
</table>
<p>See <a href="media/ARCHITECTURE.md">ARCHITECTURE.md</a> for detailed comparison.</p>
<a id="md:data-export-import--migration" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Data Export, Import &amp; Migration<a href="#md:data-export-import--migration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Need to move data between adapters? We've got you covered.</p>
<a id="md:quick-migration-example" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Quick Migration Example<a href="#md:quick-migration-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><br/><span class="hl-1">  </span><span class="hl-2">migrateLocalToSupabase</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">migrateSupabaseToLocal</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">createBackup</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">restoreFromBackup</span><span class="hl-1"> </span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Move from local SQLite to Supabase (production deployment)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">localDb</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">openDatabase</span><span class="hl-1">(</span><span class="hl-3">&#39;./app.db&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">supabaseDb</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({ </span><span class="hl-2">url:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">SUPABASE_URL</span><span class="hl-1"> });</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateLocalToSupabase</span><span class="hl-1">(</span><span class="hl-2">localDb</span><span class="hl-1">, </span><span class="hl-2">supabaseDb</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,  </span><span class="hl-4">// Verify row counts after migration</span><br/><span class="hl-1">  </span><span class="hl-2">dropExisting:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,  </span><span class="hl-4">// Keep existing data</span><br/><span class="hl-1">  </span><span class="hl-2">onConflict:</span><span class="hl-1"> </span><span class="hl-3">&#39;replace&#39;</span><span class="hl-1">  </span><span class="hl-4">// Replace on ID conflicts</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`‚úÖ Migrated </span><span class="hl-5">${</span><span class="hl-2">result</span><span class="hl-11">.</span><span class="hl-2">rowsImported</span><span class="hl-5">}</span><span class="hl-3"> rows in </span><span class="hl-5">${</span><span class="hl-2">result</span><span class="hl-11">.</span><span class="hl-2">duration</span><span class="hl-5">}</span><span class="hl-3">ms`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:export-data" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Export Data<a href="#md:export-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Export your database to portable formats:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">exportAsJSON</span><span class="hl-1">, </span><span class="hl-2">exportAsSQL</span><span class="hl-1">, </span><span class="hl-2">exportAsCSV</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Export as JSON (portable, includes schema)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">jsonBackup</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">exportAsJSON</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, { </span><br/><span class="hl-1">  </span><span class="hl-2">tables:</span><span class="hl-1"> [</span><span class="hl-3">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;posts&#39;</span><span class="hl-1">],  </span><span class="hl-4">// Optional: specific tables</span><br/><span class="hl-1">  </span><span class="hl-2">pretty:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,  </span><span class="hl-4">// Pretty-print JSON</span><br/><span class="hl-1">  </span><span class="hl-2">includeSchema:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">  </span><span class="hl-4">// Include CREATE TABLE statements</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Export as SQL dump</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">sqlDump</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">exportAsSQL</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">includeSchema:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">  </span><span class="hl-4">// CREATE TABLE + INSERT statements</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Export as CSV (one file per table)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">csvFiles</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">exportAsCSV</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">);</span><br/><span class="hl-4">// csvFiles = { users: &#39;...csv...&#39;, posts: &#39;...csv...&#39; }</span>
</code><button type="button">Copy</button></pre>

<a id="md:import-data" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Import Data<a href="#md:import-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Restore from backups or migrate data:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">importFromJSON</span><span class="hl-1">, </span><span class="hl-2">importFromSQL</span><span class="hl-1">, </span><span class="hl-2">importFromCSV</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Import from JSON backup</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">importFromJSON</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, </span><span class="hl-2">jsonBackup</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">dropTables:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,  </span><span class="hl-4">// Drop existing tables first</span><br/><span class="hl-1">  </span><span class="hl-2">batchSize:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">,  </span><span class="hl-4">// Insert in batches of 100</span><br/><span class="hl-1">  </span><span class="hl-2">onConflict:</span><span class="hl-1"> </span><span class="hl-3">&#39;ignore&#39;</span><span class="hl-1">  </span><span class="hl-4">// Skip duplicates</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Import from SQL dump</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">importFromSQL</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, </span><span class="hl-2">sqlDump</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Import from CSV</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">importFromCSV</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, </span><span class="hl-3">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">csvContent</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:cross-adapter-migration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Cross-Adapter Migration<a href="#md:cross-adapter-migration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Easily move between different storage backends:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">migrateAdapters</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Development ‚Üí Production</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">devDb</span><span class="hl-1"> = </span><span class="hl-7">createBetterSqliteAdapter</span><span class="hl-1">(</span><span class="hl-3">&#39;./dev.db&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">prodDb</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({ </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-3">&#39;...&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateAdapters</span><span class="hl-1">(</span><span class="hl-2">devDb</span><span class="hl-1">, </span><span class="hl-2">prodDb</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,  </span><span class="hl-4">// Verify data integrity</span><br/><span class="hl-1">  </span><span class="hl-2">batchSize:</span><span class="hl-1"> </span><span class="hl-8">500</span><span class="hl-1">,  </span><span class="hl-4">// Insert 500 rows at a time</span><br/><span class="hl-1">  </span><span class="hl-2">tables:</span><span class="hl-1"> [</span><span class="hl-3">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;posts&#39;</span><span class="hl-1">]  </span><span class="hl-4">// Only these tables</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">verification</span><span class="hl-1">?.</span><span class="hl-2">passed</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&#39;‚úÖ Migration verified successfully&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:create-backups" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Create Backups<a href="#md:create-backups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createBackup</span><span class="hl-1">, </span><span class="hl-2">restoreFromBackup</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Create a backup</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">backup</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createBackup</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">tables:</span><span class="hl-1"> [</span><span class="hl-3">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;sessions&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;posts&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">pretty:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Save to file</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-7">writeFile</span><span class="hl-1">(</span><span class="hl-3">&#39;backup.json&#39;</span><span class="hl-1">, </span><span class="hl-2">backup</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Restore from backup</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">backupData</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-7">readFile</span><span class="hl-1">(</span><span class="hl-3">&#39;backup.json&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;utf-8&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">restoreFromBackup</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">, </span><span class="hl-2">backupData</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">dropTables:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">  </span><span class="hl-4">// Fresh restore</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:common-migration-scenarios" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Common Migration Scenarios<a href="#md:common-migration-scenarios" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="md:local-sqlite-‚Üí-supabase-going-to-production" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Local SQLite ‚Üí Supabase (Going to Production)<a href="#md:local-sqlite-‚Üí-supabase-going-to-production" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">migrateLocalToSupabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateLocalToSupabase</span><span class="hl-1">(</span><span class="hl-2">localDb</span><span class="hl-1">, </span><span class="hl-2">supabaseDb</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">dropExisting:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">onConflict:</span><span class="hl-1"> </span><span class="hl-3">&#39;replace&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:supabase-‚Üí-local-sqlite-local-development" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Supabase ‚Üí Local SQLite (Local Development)<a href="#md:supabase-‚Üí-local-sqlite-local-development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">migrateSupabaseToLocal</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateSupabaseToLocal</span><span class="hl-1">(</span><span class="hl-2">supabaseDb</span><span class="hl-1">, </span><span class="hl-2">localDb</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">tables:</span><span class="hl-1"> [</span><span class="hl-3">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;posts&#39;</span><span class="hl-1">]  </span><span class="hl-4">// Only sync specific tables</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:browser-‚Üí-mobile-sqljs-‚Üí-capacitor" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Browser ‚Üí Mobile (SQL.js ‚Üí Capacitor)<a href="#md:browser-‚Üí-mobile-sqljs-‚Üí-capacitor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">migrateBrowserToMobile</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateBrowserToMobile</span><span class="hl-1">(</span><span class="hl-2">sqlJsDb</span><span class="hl-1">, </span><span class="hl-2">capacitorDb</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">batchSize:</span><span class="hl-1"> </span><span class="hl-8">100</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:clone-adapter-perfect-copy" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Clone Adapter (Perfect Copy)<a href="#md:clone-adapter-perfect-copy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">cloneAdapter</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Create an exact copy with verification</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">cloneAdapter</span><span class="hl-1">(</span><span class="hl-2">sourceDb</span><span class="hl-1">, </span><span class="hl-2">targetDb</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,  </span><span class="hl-4">// Always verify clones</span><br/><span class="hl-1">  </span><span class="hl-2">dropExisting:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">  </span><span class="hl-4">// Ensure clean copy</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:migration-result-details" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Migration Result Details<a href="#md:migration-result-details" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateAdapters</span><span class="hl-1">(</span><span class="hl-2">source</span><span class="hl-1">, </span><span class="hl-2">target</span><span class="hl-1">, { </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> });</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">success</span><span class="hl-1">);  </span><span class="hl-4">// true/false</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">tablesImported</span><span class="hl-1">);  </span><span class="hl-4">// Number of tables</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">rowsImported</span><span class="hl-1">);  </span><span class="hl-4">// Number of rows</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">duration</span><span class="hl-1">);  </span><span class="hl-4">// Time in ms</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">errors</span><span class="hl-1">);  </span><span class="hl-4">// Array of error messages (if any)</span><br/><br/><span class="hl-4">// Verification details</span><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">verification</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">verification</span><span class="hl-1">.</span><span class="hl-2">passed</span><span class="hl-1">);  </span><span class="hl-4">// true if counts match</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-2">verification</span><span class="hl-1">.</span><span class="hl-2">tableCounts</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">// { users: { source: 100, target: 100, match: true }, ... }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:format-migration-results" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Format Migration Results<a href="#md:format-migration-results" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">formatMigrationResult</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateAdapters</span><span class="hl-1">(</span><span class="hl-2">source</span><span class="hl-1">, </span><span class="hl-2">target</span><span class="hl-1">, { </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> });</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-7">formatMigrationResult</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// Outputs:</span><br/><span class="hl-4">// ============================================================</span><br/><span class="hl-4">// Migration Result</span><br/><span class="hl-4">// ============================================================</span><br/><span class="hl-4">// Source: better-sqlite3</span><br/><span class="hl-4">// Target: supabase</span><br/><span class="hl-4">// Status: ‚úÖ SUCCESS</span><br/><span class="hl-4">// Duration: 1234ms</span><br/><span class="hl-4">// Tables: 5</span><br/><span class="hl-4">// Rows: 10523</span><br/><span class="hl-4">// </span><br/><span class="hl-4">// Verification:</span><br/><span class="hl-4">// Status: ‚úÖ PASSED</span><br/><span class="hl-4">// </span><br/><span class="hl-4">// Table Counts:</span><br/><span class="hl-4">//   ‚úÖ users: source=100, target=100</span><br/><span class="hl-4">//   ‚úÖ posts: source=450, target=450</span><br/><span class="hl-4">// ============================================================</span>
</code><button type="button">Copy</button></pre>

<a id="md:export-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Export Options<a href="#md:export-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All export functions support these options:</p>
<pre><code class="typescript"><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-10">DataExportOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">tables</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">[];        </span><span class="hl-4">// Tables to export (all if not specified)</span><br/><span class="hl-1">  </span><span class="hl-2">includeSchema</span><span class="hl-1">?: </span><span class="hl-10">boolean</span><span class="hl-1">;  </span><span class="hl-4">// Include CREATE TABLE statements</span><br/><span class="hl-1">  </span><span class="hl-2">format</span><span class="hl-1">?: </span><span class="hl-3">&#39;json&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;sql&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;csv&#39;</span><span class="hl-1">;  </span><span class="hl-4">// Export format</span><br/><span class="hl-1">  </span><span class="hl-2">batchSize</span><span class="hl-1">?: </span><span class="hl-10">number</span><span class="hl-1">;       </span><span class="hl-4">// Batch size for large exports</span><br/><span class="hl-1">  </span><span class="hl-2">pretty</span><span class="hl-1">?: </span><span class="hl-10">boolean</span><span class="hl-1">;         </span><span class="hl-4">// Pretty-print JSON</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:import-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Import Options<a href="#md:import-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>All import functions support these options:</p>
<pre><code class="typescript"><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-10">DataImportOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">dropTables</span><span class="hl-1">?: </span><span class="hl-10">boolean</span><span class="hl-1">;     </span><span class="hl-4">// Drop existing tables before import</span><br/><span class="hl-1">  </span><span class="hl-2">skipSchema</span><span class="hl-1">?: </span><span class="hl-10">boolean</span><span class="hl-1">;     </span><span class="hl-4">// Skip schema creation (data only)</span><br/><span class="hl-1">  </span><span class="hl-2">skipData</span><span class="hl-1">?: </span><span class="hl-10">boolean</span><span class="hl-1">;       </span><span class="hl-4">// Skip data import (schema only)</span><br/><span class="hl-1">  </span><span class="hl-2">batchSize</span><span class="hl-1">?: </span><span class="hl-10">number</span><span class="hl-1">;       </span><span class="hl-4">// Batch size for inserts (default: 100)</span><br/><span class="hl-1">  </span><span class="hl-2">tables</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">[];        </span><span class="hl-4">// Tables to import (all if not specified)</span><br/><span class="hl-1">  </span><span class="hl-2">onConflict</span><span class="hl-1">?: </span><span class="hl-3">&#39;replace&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;ignore&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;error&#39;</span><span class="hl-1">;  </span><span class="hl-4">// Conflict strategy</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:advanced-usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Advanced Usage<a href="#md:advanced-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:custom-priority" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Custom Priority<a href="#md:custom-priority" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">priority:</span><span class="hl-1"> [</span><span class="hl-3">&#39;postgres&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;better-sqlite3&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;sqljs&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">postgres:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-3">&#39;postgresql://localhost/mydb&#39;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-2">filePath:</span><span class="hl-1"> </span><span class="hl-3">&#39;./app.db&#39;</span><span class="hl-1">  </span><span class="hl-4">// For SQLite adapters</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:check-capabilities" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Check Capabilities<a href="#md:check-capabilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Adapter:&#39;</span><span class="hl-1">, </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">kind</span><span class="hl-1">);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Capabilities:&#39;</span><span class="hl-1">, </span><span class="hl-2">Array</span><span class="hl-1">.</span><span class="hl-7">from</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">capabilities</span><span class="hl-1">));</span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">capabilities</span><span class="hl-1">.</span><span class="hl-7">has</span><span class="hl-1">(</span><span class="hl-3">&#39;concurrent&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-4">// Can handle multiple connections</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:health-checks" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Health Checks<a href="#md:health-checks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">status</span><span class="hl-1"> = </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-2">context</span><span class="hl-1">.</span><span class="hl-7">getStatus</span><span class="hl-1">();</span><br/><br/><span class="hl-2">app</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;/health&#39;</span><span class="hl-1">, (</span><span class="hl-2">req</span><span class="hl-1">, </span><span class="hl-2">res</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-7">json</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-2">healthy:</span><span class="hl-1"> </span><span class="hl-2">status</span><span class="hl-1">.</span><span class="hl-2">healthy</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">uptime:</span><span class="hl-1"> </span><span class="hl-2">status</span><span class="hl-1">.</span><span class="hl-2">uptime</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">queries:</span><span class="hl-1"> </span><span class="hl-2">status</span><span class="hl-1">.</span><span class="hl-2">totalQueries</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">errors:</span><span class="hl-1"> </span><span class="hl-2">status</span><span class="hl-1">.</span><span class="hl-2">errors</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:remote-postgresql-connections" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Remote PostgreSQL Connections<a href="#md:remote-postgresql-connections" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Connect to remote PostgreSQL databases on AWS, Heroku, Supabase, DigitalOcean, and other cloud providers.</p>
<blockquote>
<p>üìñ <strong><a href="media/POSTGRES_REMOTE_CONNECTION.md">Complete Remote PostgreSQL Guide</a></strong> - Detailed documentation with cloud provider examples, security best practices, troubleshooting, and more.</p>
</blockquote>
<a id="md:automatic-detection-recommended" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Automatic Detection (Recommended)<a href="#md:automatic-detection-recommended" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The library automatically uses PostgreSQL when you provide connection credentials:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Automatically uses PostgreSQL when DATABASE_URL is set</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">url:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">  </span><span class="hl-4">// postgresql://...</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Or even simpler - auto-detects from environment</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">();</span><br/><span class="hl-4">// Uses DATABASE_URL if set, falls back to SQLite</span><br/><br/><span class="hl-4">// Same code works everywhere - PostgreSQL in production, SQLite locally</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">users</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:simple-connection" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Simple Connection<a href="#md:simple-connection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">connectDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Connect with URL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">connectDatabase</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Connect with config</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">connectDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;db.example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;myapp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;dbuser&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:environment-based-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Environment-Based Configuration<a href="#md:environment-based-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">// .env.production</span><br/><span class="hl-6">DATABASE_URL</span><span class="hl-1">=</span><span class="hl-9">postgresql</span><span class="hl-1">:</span><span class="hl-4">//user:password@db.example.com:5432/myapp?sslmode=require</span><br/><br/><span class="hl-4">// .env.development</span><br/><span class="hl-6">DATABASE_URL</span><span class="hl-1">=  # </span><span class="hl-2">Empty</span><span class="hl-1"> = </span><span class="hl-2">falls</span><span class="hl-1"> </span><span class="hl-2">back</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-2">SQLite</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Automatically picks PostgreSQL in production, SQLite locally</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">();  </span><span class="hl-4">// Auto-detects DATABASE_URL!</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:explicit-priority" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Explicit Priority<a href="#md:explicit-priority" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Control which adapter is preferred:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">priority:</span><span class="hl-1"> [</span><span class="hl-3">&#39;postgres&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;better-sqlite3&#39;</span><span class="hl-1">],  </span><span class="hl-4">// Try PostgreSQL first</span><br/><span class="hl-1">  </span><span class="hl-2">postgres:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-2">filePath:</span><span class="hl-1"> </span><span class="hl-3">&#39;./fallback.db&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`Using: </span><span class="hl-5">${</span><span class="hl-2">db</span><span class="hl-11">.</span><span class="hl-2">kind</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">);  </span><span class="hl-4">// &quot;postgres&quot; or &quot;better-sqlite3&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:full-configuration-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Full Configuration Options<a href="#md:full-configuration-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">priority:</span><span class="hl-1"> [</span><span class="hl-3">&#39;postgres&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-2">postgres:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;db.example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">port:</span><span class="hl-1"> </span><span class="hl-8">5432</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;myapp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;dbuser&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">// Security</span><br/><span class="hl-1">    </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,  </span><span class="hl-4">// or { rejectUnauthorized: true, ca: cert }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">// Performance</span><br/><span class="hl-1">    </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-8">20</span><span class="hl-1">,                      </span><span class="hl-4">// Max connections in pool</span><br/><span class="hl-1">    </span><span class="hl-2">min:</span><span class="hl-1"> </span><span class="hl-8">2</span><span class="hl-1">,                       </span><span class="hl-4">// Min idle connections</span><br/><span class="hl-1">    </span><span class="hl-2">idleTimeoutMillis:</span><span class="hl-1"> </span><span class="hl-8">10000</span><span class="hl-1">,     </span><span class="hl-4">// Close idle connections after 10s</span><br/><span class="hl-1">    </span><span class="hl-2">connectionTimeoutMillis:</span><span class="hl-1"> </span><span class="hl-8">5000</span><span class="hl-1">, </span><span class="hl-4">// Timeout connection attempts after 5s</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">// Monitoring</span><br/><span class="hl-1">    </span><span class="hl-2">application_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;my-app-v1&#39;</span><span class="hl-1">,  </span><span class="hl-4">// Track in pg_stat_activity</span><br/><span class="hl-1">    </span><span class="hl-2">statement_timeout:</span><span class="hl-1"> </span><span class="hl-8">30000</span><span class="hl-1">,        </span><span class="hl-4">// Kill queries after 30s</span><br/><span class="hl-1">    </span><span class="hl-2">query_timeout:</span><span class="hl-1"> </span><span class="hl-8">10000</span><span class="hl-1">,            </span><span class="hl-4">// Query timeout</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:cloud-provider-examples" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Cloud Provider Examples<a href="#md:cloud-provider-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><a id="md:aws-rds" class="tsd-anchor"></a><h4 class="tsd-anchor-link">AWS RDS<a href="#md:aws-rds" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createDatabase</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">postgres:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;mydb.abc123.us-east-1.rds.amazonaws.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">port:</span><span class="hl-1"> </span><span class="hl-8">5432</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;production&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;admin&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">RDS_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">ssl:</span><span class="hl-1"> { </span><br/><span class="hl-1">      </span><span class="hl-2">rejectUnauthorized:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">ca:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">RDS_CA_CERT</span><span class="hl-1">  </span><span class="hl-4">// Optional: RDS CA certificate</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-8">20</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">application_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;my-app-prod&#39;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Query works exactly the same as local databases</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">users</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users LIMIT 10&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:heroku-postgres" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Heroku Postgres<a href="#md:heroku-postgres" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">// Heroku provides DATABASE_URL automatically</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-2">rejectUnauthorized:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">  </span><span class="hl-4">// Heroku uses self-signed certs</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:supabase" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Supabase<a href="#md:supabase" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">// Get connection string from Supabase dashboard ‚Üí Database ‚Üí Connection String</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">SUPABASE_DB_URL</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">// Example: postgresql://postgres:[YOUR-PASSWORD]@db.projectid.supabase.co:5432/postgres</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-1">  </span><span class="hl-4">// Supabase free tier has connection limits</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Same API as local SQLite!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">posts</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM posts ORDER BY created_at DESC&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:digitalocean-managed-database" class="tsd-anchor"></a><h4 class="tsd-anchor-link">DigitalOcean Managed Database<a href="#md:digitalocean-managed-database" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;db-postgresql-nyc3-12345.ondigitalocean.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">port:</span><span class="hl-1"> </span><span class="hl-8">25060</span><span class="hl-1">,  </span><span class="hl-4">// DigitalOcean uses custom ports</span><br/><span class="hl-1">  </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;defaultdb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;doadmin&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DO_DB_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-2">rejectUnauthorized:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">ca:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DO_CA_CERT</span><span class="hl-1">  </span><span class="hl-4">// Download from DO dashboard</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-8">25</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:railway" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Railway<a href="#md:railway" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">// Railway provides DATABASE_URL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:render" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Render<a href="#md:render" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">// Render provides DATABASE_URL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> { </span><span class="hl-2">rejectUnauthorized:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:ssltls-configuration" class="tsd-anchor"></a><h3 class="tsd-anchor-link">SSL/TLS Configuration<a href="#md:ssltls-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Secure connections for production databases:</p>
<pre><code class="typescript"><span class="hl-4">// Enable SSL (accepts self-signed certificates)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;db.example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;mydb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;dbuser&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Strict SSL (verify server certificate)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;db.example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;mydb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;dbuser&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> { </span><br/><span class="hl-1">    </span><span class="hl-2">rejectUnauthorized:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">  </span><span class="hl-4">// Reject invalid certificates</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Custom CA certificate (for self-hosted)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;db.example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;mydb&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;dbuser&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">rejectUnauthorized:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">ca:</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-7">readFileSync</span><span class="hl-1">(</span><span class="hl-3">&#39;/path/to/ca-certificate.crt&#39;</span><span class="hl-1">).</span><span class="hl-7">toString</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-2">cert:</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-7">readFileSync</span><span class="hl-1">(</span><span class="hl-3">&#39;/path/to/client-cert.crt&#39;</span><span class="hl-1">).</span><span class="hl-7">toString</span><span class="hl-1">(),  </span><span class="hl-4">// Optional</span><br/><span class="hl-1">    </span><span class="hl-2">key:</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-7">readFileSync</span><span class="hl-1">(</span><span class="hl-3">&#39;/path/to/client-key.key&#39;</span><span class="hl-1">).</span><span class="hl-7">toString</span><span class="hl-1">()     </span><span class="hl-4">// Optional</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:connection-pooling" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Connection Pooling<a href="#md:connection-pooling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Optimize performance with connection pools:</p>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">// Pool configuration</span><br/><span class="hl-1">  </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-8">20</span><span class="hl-1">,              </span><span class="hl-4">// Maximum connections (default: 10)</span><br/><span class="hl-1">  </span><span class="hl-2">min:</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1">,               </span><span class="hl-4">// Minimum idle connections (default: 0)</span><br/><span class="hl-1">  </span><span class="hl-2">idleTimeoutMillis:</span><span class="hl-1"> </span><span class="hl-8">10000</span><span class="hl-1">,     </span><span class="hl-4">// Close idle after 10s (default: 10000)</span><br/><span class="hl-1">  </span><span class="hl-2">connectionTimeoutMillis:</span><span class="hl-1"> </span><span class="hl-8">5000</span><span class="hl-1"> </span><span class="hl-4">// Timeout new connections (default: 0 = no timeout)</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Connection pool is managed automatically</span><br/><span class="hl-4">// Multiple queries run concurrently using pool connections</span><br/><span class="hl-5">const</span><span class="hl-1"> [</span><span class="hl-6">users</span><span class="hl-1">, </span><span class="hl-6">posts</span><span class="hl-1">, </span><span class="hl-6">comments</span><span class="hl-1">] = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM posts&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM comments&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<a id="md:environment-variables" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Environment Variables<a href="#md:environment-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Best practices for configuration:</p>
<pre><code class="bash"><span class="hl-4"># .env file</span><br/><span class="hl-2">DATABASE_URL</span><span class="hl-1">=</span><span class="hl-3">postgresql://user:password@host:5432/dbname?</span><span class="hl-2">sslmode</span><span class="hl-1">=</span><span class="hl-3">require</span><br/><span class="hl-2">DB_HOST</span><span class="hl-1">=</span><span class="hl-3">db.example.com</span><br/><span class="hl-2">DB_PORT</span><span class="hl-1">=</span><span class="hl-3">5432</span><br/><span class="hl-2">DB_NAME</span><span class="hl-1">=</span><span class="hl-3">myapp</span><br/><span class="hl-2">DB_USER</span><span class="hl-1">=</span><span class="hl-3">dbuser</span><br/><span class="hl-2">DB_PASSWORD</span><span class="hl-1">=</span><span class="hl-3">secure_password_here</span><br/><span class="hl-2">DB_POOL_MAX</span><span class="hl-1">=</span><span class="hl-3">20</span><br/><span class="hl-2">DB_SSL</span><span class="hl-1">=</span><span class="hl-3">true</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// config/database.ts</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createPostgresAdapter</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">createDatabase</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">// Option 1: Use connection string</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-7">parseInt</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_POOL_MAX</span><span class="hl-1"> || </span><span class="hl-3">&#39;10&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">      </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_SSL</span><span class="hl-1"> === </span><span class="hl-3">&#39;true&#39;</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">// Option 2: Use individual variables</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_HOST</span><span class="hl-1">!,</span><br/><span class="hl-1">    </span><span class="hl-2">port:</span><span class="hl-1"> </span><span class="hl-7">parseInt</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PORT</span><span class="hl-1"> || </span><span class="hl-3">&#39;5432&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_NAME</span><span class="hl-1">!,</span><br/><span class="hl-1">    </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_USER</span><span class="hl-1">!,</span><br/><span class="hl-1">    </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PASSWORD</span><span class="hl-1">!,</span><br/><span class="hl-1">    </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_SSL</span><span class="hl-1"> === </span><span class="hl-3">&#39;true&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-7">parseInt</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_POOL_MAX</span><span class="hl-1"> || </span><span class="hl-3">&#39;10&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">// Usage</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createDatabase</span><span class="hl-1">();</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:error-handling" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Error Handling<a href="#md:error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Handle connection errors gracefully:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createPostgresAdapter</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-7">connectWithRetry</span><span class="hl-1">(</span><span class="hl-2">maxRetries</span><span class="hl-1"> = </span><span class="hl-8">3</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">!);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">for</span><span class="hl-1"> (</span><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-2">attempt</span><span class="hl-1"> = </span><span class="hl-8">1</span><span class="hl-1">; </span><span class="hl-2">attempt</span><span class="hl-1"> &lt;= </span><span class="hl-2">maxRetries</span><span class="hl-1">; </span><span class="hl-2">attempt</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">&#39;‚úÖ Connected to PostgreSQL&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">;</span><br/><span class="hl-1">    } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">`‚ùå Connection attempt </span><span class="hl-5">${</span><span class="hl-2">attempt</span><span class="hl-5">}</span><span class="hl-3"> failed:`</span><span class="hl-1">, </span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">attempt</span><span class="hl-1"> === </span><span class="hl-2">maxRetries</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Error</span><span class="hl-1">(</span><span class="hl-3">&#39;Failed to connect to database after max retries&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-4">// Wait before retry (exponential backoff)</span><br/><span class="hl-1">      </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">(</span><span class="hl-2">resolve</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-7">setTimeout</span><span class="hl-1">(</span><span class="hl-2">resolve</span><span class="hl-1">, </span><span class="hl-2">Math</span><span class="hl-1">.</span><span class="hl-7">pow</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-2">attempt</span><span class="hl-1">) * </span><span class="hl-8">1000</span><span class="hl-1">));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Usage</span><br/><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">connectWithRetry</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">// Use database</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">users</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">(</span><span class="hl-3">&#39;SELECT * FROM users&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">// Always close when done</span><br/><span class="hl-1">  </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">close</span><span class="hl-1">();</span><br/><span class="hl-1">} </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&#39;Database connection failed:&#39;</span><span class="hl-1">, </span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:monitoring--health-checks" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Monitoring &amp; Health Checks<a href="#md:monitoring--health-checks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Track connection health:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">createPostgresAdapter</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">connectionString:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">!,</span><br/><span class="hl-1">  </span><span class="hl-2">application_name:</span><span class="hl-1"> </span><span class="hl-3">&#39;my-app-v1.0&#39;</span><span class="hl-1">,  </span><span class="hl-4">// Shows in pg_stat_activity</span><br/><span class="hl-1">  </span><span class="hl-2">max:</span><span class="hl-1"> </span><span class="hl-8">20</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Health check endpoint (Express example)</span><br/><span class="hl-2">app</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;/health/database&#39;</span><span class="hl-1">, </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-2">req</span><span class="hl-1">, </span><span class="hl-2">res</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">// Simple query to verify connection</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">&lt;{ </span><span class="hl-2">now</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1"> }&gt;(</span><span class="hl-3">&#39;SELECT NOW() as now&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">// Get active connections (admin access required)</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">connections</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">&lt;{ </span><span class="hl-2">count</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1"> }&gt;(</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;SELECT COUNT(*) as count FROM pg_stat_activity WHERE application_name = &#39;my-app-v1.0&#39;&quot;</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-7">json</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-2">status:</span><span class="hl-1"> </span><span class="hl-3">&#39;healthy&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">timestamp:</span><span class="hl-1"> </span><span class="hl-2">result</span><span class="hl-1">?.</span><span class="hl-2">now</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">active_connections:</span><span class="hl-1"> </span><span class="hl-2">connections</span><span class="hl-1">?.</span><span class="hl-2">count</span><span class="hl-1"> || </span><span class="hl-8">0</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  } </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-7">status</span><span class="hl-1">(</span><span class="hl-8">503</span><span class="hl-1">).</span><span class="hl-7">json</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-2">status:</span><span class="hl-1"> </span><span class="hl-3">&#39;unhealthy&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-2">error:</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-10">Error</span><span class="hl-1">).</span><span class="hl-2">message</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:migration-from-local-to-remote" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Migration from Local to Remote<a href="#md:migration-from-local-to-remote" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Move from local development to production:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><br/><span class="hl-1">  </span><span class="hl-2">createBetterSqliteAdapter</span><span class="hl-1">, </span><br/><span class="hl-1">  </span><span class="hl-2">createPostgresAdapter</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">migrateAdapters</span><span class="hl-1"> </span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@framers/sql-storage-adapter&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Development: Local SQLite</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">localDb</span><span class="hl-1"> = </span><span class="hl-7">createBetterSqliteAdapter</span><span class="hl-1">(</span><span class="hl-3">&#39;./dev.db&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Production: Remote PostgreSQL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">remoteDb</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">host:</span><span class="hl-1"> </span><span class="hl-3">&#39;production-db.example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">database:</span><span class="hl-1"> </span><span class="hl-3">&#39;myapp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">user:</span><span class="hl-1"> </span><span class="hl-3">&#39;dbuser&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DB_PASSWORD</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ssl:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">localDb</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">remoteDb</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Migrate all data</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">migrateAdapters</span><span class="hl-1">(</span><span class="hl-2">localDb</span><span class="hl-1">, </span><span class="hl-2">remoteDb</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-2">verify:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,      </span><span class="hl-4">// Verify row counts match</span><br/><span class="hl-1">  </span><span class="hl-2">dropTables:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">, </span><span class="hl-4">// Keep existing data</span><br/><span class="hl-1">  </span><span class="hl-2">onConflict:</span><span class="hl-1"> </span><span class="hl-3">&#39;replace&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`‚úÖ Migrated </span><span class="hl-5">${</span><span class="hl-2">result</span><span class="hl-11">.</span><span class="hl-2">rowsImported</span><span class="hl-5">}</span><span class="hl-3"> rows to production`</span><span class="hl-1">);</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">localDb</span><span class="hl-1">.</span><span class="hl-7">close</span><span class="hl-1">();</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">remoteDb</span><span class="hl-1">.</span><span class="hl-7">close</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="md:same-api-everywhere" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Same API Everywhere<a href="#md:same-api-everywhere" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The beauty of the adapter pattern - same code works locally and remotely:</p>
<pre><code class="typescript"><span class="hl-4">// This function works with ANY adapter</span><br/><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-7">getRecentUsers</span><span class="hl-1">(</span><span class="hl-2">db</span><span class="hl-1">: </span><span class="hl-10">StorageAdapter</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">all</span><span class="hl-1">&lt;{ </span><span class="hl-2">id</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">; </span><span class="hl-2">name</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">; </span><span class="hl-2">email</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1"> }&gt;(</span><br/><span class="hl-1">    </span><span class="hl-3">&#39;SELECT id, name, email FROM users ORDER BY created_at DESC LIMIT 10&#39;</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Works with local SQLite</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">localDb</span><span class="hl-1"> = </span><span class="hl-7">createBetterSqliteAdapter</span><span class="hl-1">(</span><span class="hl-3">&#39;./local.db&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">localDb</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">localUsers</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">getRecentUsers</span><span class="hl-1">(</span><span class="hl-2">localDb</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Works with remote PostgreSQL</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">remoteDb</span><span class="hl-1"> = </span><span class="hl-7">createPostgresAdapter</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-6">DATABASE_URL</span><span class="hl-1">!);</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">remoteDb</span><span class="hl-1">.</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">remoteUsers</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-7">getRecentUsers</span><span class="hl-1">(</span><span class="hl-2">remoteDb</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Same code, different storage!</span>
</code><button type="button">Copy</button></pre>

<a id="md:examples" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Check out the <code>examples/</code> directory:</p>
<ul>
<li><code>basic-usage.ts</code> - Getting started</li>
<li><code>remote-postgres.ts</code> - Remote PostgreSQL connections (AWS, Heroku, Supabase, etc.)</li>
<li><code>electron-app/</code> - Desktop app with better-sqlite3</li>
<li><code>browser-extension/</code> - Chrome extension with SQL.js</li>
<li><code>full-stack/</code> - Shared code between frontend and backend</li>
<li><code>testing/</code> - Unit testing strategies</li>
</ul>
<a id="md:faq" class="tsd-anchor"></a><h2 class="tsd-anchor-link">FAQ<a href="#md:faq" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong>Q: Which adapter should I use?</strong><br>
A: Let <code>createDatabase()</code> pick automatically. It chooses based on your environment.</p>
<p><strong>Q: Can I switch adapters later?</strong><br>
A: Yes, but you might need to migrate data. SQLite ‚Üí PostgreSQL is common for apps that start small and grow.</p>
<p><strong>Q: Is this production-ready?</strong><br>
A: Yes. The adapters (pg, better-sqlite3, etc.) are battle-tested. This library just provides a unified interface.</p>
<p><strong>Q: What about migrations?</strong><br>
A: Use any migration tool. We recommend <a href="https://github.com/salsita/node-pg-migrate" target="_blank" class="external"><code>node-pg-migrate</code></a> or <a href="https://www.prisma.io/" target="_blank" class="external"><code>prisma</code></a>.</p>
<p><strong>Q: Performance overhead?</strong><br>
A: Minimal. The abstraction layer is thin (~100 lines per adapter). Benchmarks show &lt;1% overhead.</p>
<a id="md:contributing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Contributing<a href="#md:contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>See <a href="media/CONTRIBUTING.md">CONTRIBUTING.md</a></p>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT ¬© <a href="https://github.com/wearetheframers" target="_blank" class="external">The Framers</a></p>
<hr>
<p>Built with ‚ù§Ô∏è for developers who want to write database code once and run it everywhere.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:sql-storage-adapter"><span>SQL <wbr/>Storage <wbr/>Adapter</span></a><ul><li><a href="#md:why"><span>Why?</span></a></li><li><a href="#md:real-world-use-cases"><span>Real-<wbr/>World <wbr/>Use <wbr/>Cases</span></a></li><li><ul><li><a href="#md:1-offline-first-apps"><span>1. <wbr/>Offline-<wbr/>First <wbr/>Apps</span></a></li><li><a href="#md:2-electron-apps"><span>2. <wbr/>Electron <wbr/>Apps</span></a></li><li><a href="#md:3-browser-extensions"><span>3. <wbr/>Browser <wbr/>Extensions</span></a></li><li><a href="#md:4-mobile-apps"><span>4. <wbr/>Mobile <wbr/>Apps</span></a></li><li><a href="#md:5-full-stack-apps"><span>5. <wbr/>Full-<wbr/>Stack <wbr/>Apps</span></a></li><li><a href="#md:6-testing"><span>6. <wbr/>Testing</span></a></li></ul></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#md:how-it-works"><span>How <wbr/>It <wbr/>Works</span></a></li><li><a href="#md:key-features"><span>Key <wbr/>Features</span></a></li><li><ul><li><a href="#md:‚úÖ-type-safe"><span>‚úÖ <wbr/>Type-<wbr/>Safe</span></a></li><li><a href="#md:‚úÖ-transactions"><span>‚úÖ <wbr/>Transactions</span></a></li><li><a href="#md:‚úÖ-runtime-introspection"><span>‚úÖ <wbr/>Runtime <wbr/>Introspection</span></a></li><li><a href="#md:‚úÖ-event-monitoring"><span>‚úÖ <wbr/>Event <wbr/>Monitoring</span></a></li></ul></li><li><a href="#md:api-overview"><span>API <wbr/>Overview</span></a></li><li><a href="#md:adapters-at-a-glance"><span>Adapters at a <wbr/>Glance</span></a></li><li><a href="#md:data-export-import--migration"><span>Data <wbr/>Export, <wbr/>Import &amp; <wbr/>Migration</span></a></li><li><ul><li><a href="#md:quick-migration-example"><span>Quick <wbr/>Migration <wbr/>Example</span></a></li><li><a href="#md:export-data"><span>Export <wbr/>Data</span></a></li><li><a href="#md:import-data"><span>Import <wbr/>Data</span></a></li><li><a href="#md:cross-adapter-migration"><span>Cross-<wbr/>Adapter <wbr/>Migration</span></a></li><li><a href="#md:create-backups"><span>Create <wbr/>Backups</span></a></li><li><a href="#md:common-migration-scenarios"><span>Common <wbr/>Migration <wbr/>Scenarios</span></a></li><li><ul><li><a href="#md:local-sqlite-‚Üí-supabase-going-to-production"><span>Local SQLite ‚Üí <wbr/>Supabase (<wbr/>Going to <wbr/>Production)</span></a></li><li><a href="#md:supabase-‚Üí-local-sqlite-local-development"><span>Supabase ‚Üí <wbr/>Local SQLite (<wbr/>Local <wbr/>Development)</span></a></li><li><a href="#md:browser-‚Üí-mobile-sqljs-‚Üí-capacitor"><span>Browser ‚Üí <wbr/>Mobile (SQL.js ‚Üí <wbr/>Capacitor)</span></a></li><li><a href="#md:clone-adapter-perfect-copy"><span>Clone <wbr/>Adapter (<wbr/>Perfect <wbr/>Copy)</span></a></li></ul></li><li><a href="#md:migration-result-details"><span>Migration <wbr/>Result <wbr/>Details</span></a></li><li><a href="#md:format-migration-results"><span>Format <wbr/>Migration <wbr/>Results</span></a></li><li><a href="#md:export-options"><span>Export <wbr/>Options</span></a></li><li><a href="#md:import-options"><span>Import <wbr/>Options</span></a></li></ul></li><li><a href="#md:advanced-usage"><span>Advanced <wbr/>Usage</span></a></li><li><ul><li><a href="#md:custom-priority"><span>Custom <wbr/>Priority</span></a></li><li><a href="#md:check-capabilities"><span>Check <wbr/>Capabilities</span></a></li><li><a href="#md:health-checks"><span>Health <wbr/>Checks</span></a></li></ul></li><li><a href="#md:remote-postgresql-connections"><span>Remote <wbr/>PostgreSQL <wbr/>Connections</span></a></li><li><ul><li><a href="#md:automatic-detection-recommended"><span>Automatic <wbr/>Detection (<wbr/>Recommended)</span></a></li><li><a href="#md:simple-connection"><span>Simple <wbr/>Connection</span></a></li><li><a href="#md:environment-based-configuration"><span>Environment-<wbr/>Based <wbr/>Configuration</span></a></li><li><a href="#md:explicit-priority"><span>Explicit <wbr/>Priority</span></a></li><li><a href="#md:full-configuration-options"><span>Full <wbr/>Configuration <wbr/>Options</span></a></li><li><a href="#md:cloud-provider-examples"><span>Cloud <wbr/>Provider <wbr/>Examples</span></a></li><li><ul><li><a href="#md:aws-rds"><span>AWS RDS</span></a></li><li><a href="#md:heroku-postgres"><span>Heroku <wbr/>Postgres</span></a></li><li><a href="#md:supabase"><span>Supabase</span></a></li><li><a href="#md:digitalocean-managed-database"><span>Digital<wbr/>Ocean <wbr/>Managed <wbr/>Database</span></a></li><li><a href="#md:railway"><span>Railway</span></a></li><li><a href="#md:render"><span>Render</span></a></li></ul></li><li><a href="#md:ssltls-configuration"><span>SSL/TLS <wbr/>Configuration</span></a></li><li><a href="#md:connection-pooling"><span>Connection <wbr/>Pooling</span></a></li><li><a href="#md:environment-variables"><span>Environment <wbr/>Variables</span></a></li><li><a href="#md:error-handling"><span>Error <wbr/>Handling</span></a></li><li><a href="#md:monitoring--health-checks"><span>Monitoring &amp; <wbr/>Health <wbr/>Checks</span></a></li><li><a href="#md:migration-from-local-to-remote"><span>Migration from <wbr/>Local to <wbr/>Remote</span></a></li><li><a href="#md:same-api-everywhere"><span>Same API <wbr/>Everywhere</span></a></li></ul></li><li><a href="#md:examples"><span>Examples</span></a></li><li><a href="#md:faq"><span>FAQ</span></a></li><li><a href="#md:contributing"><span>Contributing</span></a></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/wearetheframers/sql-storage-adapter" class="tsd-nav-link">GitHub</a><a href="https://www.npmjs.com/package/@framers/sql-storage-adapter" class="tsd-nav-link">NPM</a></nav><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>SQL Storage Adapter - v0.1.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
